{"dependencies":[{"name":"C:\\Users\\Luis Herasme\\Desktop\\LienzoEngine\\node_modules\\dibujo\\tsconfig.json","includedInParent":true,"mtime":1522616336000},{"name":"C:\\Users\\Luis Herasme\\Desktop\\LienzoEngine\\node_modules\\dibujo\\package.json","includedInParent":true,"mtime":1531328541070},{"name":"C:\\Users\\Luis Herasme\\Desktop\\LienzoEngine\\package.json","includedInParent":true,"mtime":1531329788790},{"name":"vector_class","loc":{"line":3,"column":29},"parent":"C:\\Users\\Luis Herasme\\Desktop\\LienzoEngine\\node_modules\\dibujo\\src\\Media\\Animation.ts","resolved":"C:\\Users\\Luis Herasme\\Desktop\\LienzoEngine\\node_modules\\vector_class\\src\\index.ts"}],"generated":{"js":"\"use strict\";\r\nexports.__esModule = true;\r\nvar vector_class_1 = require(\"vector_class\");\r\nvar Animation = /** @class */ (function () {\r\n    function Animation(configuration) {\r\n        this.loop = true;\r\n        this.size = new vector_class_1.Vector2D(32, 32);\r\n        this.frame = new vector_class_1.Vector2D(0, 0);\r\n        this.animationPlaying = false;\r\n        this.load(configuration.src);\r\n        this.loop = configuration.loop ? configuration.loop : true;\r\n        this.size = configuration.size ? configuration.size : new vector_class_1.Vector2D(32, 32);\r\n        this.scale = configuration.scale ? configuration.scale : new vector_class_1.Vector2D(1, 1);\r\n        this.frameRate = configuration.frameRate ? configuration.frameRate : 24;\r\n        this.animations = configuration.animations;\r\n        this.x = 0;\r\n        this.y = 0;\r\n    }\r\n    Animation.prototype.playAnimation = function (name) {\r\n        if (!this.animationPlaying) {\r\n            this.animationPlaying = true;\r\n            this.frame.x = 0;\r\n            this.frame.y = this.animations[name][1];\r\n            this.reproduceAnimation(name);\r\n        }\r\n    };\r\n    Animation.prototype.reproduceAnimation = function (name) {\r\n        var _this = this;\r\n        this.x = this.size.x * this.frame.x;\r\n        this.y = this.size.y * this.frame.y;\r\n        this.frame.x += 1;\r\n        if (this.frame.x >= this.animations[name][0]) {\r\n            this.animationPlaying = false;\r\n        }\r\n        else {\r\n            setTimeout(function () { return _this.reproduceAnimation(name); }, this.frameRate);\r\n        }\r\n    };\r\n    Animation.prototype.mouseDown = function () {\r\n    };\r\n    Animation.prototype.onClick = function (func) { };\r\n    Animation.prototype.load = function (src) {\r\n        this.image = new Image();\r\n        this.image.src = src;\r\n    };\r\n    Animation.prototype.getSize = function () {\r\n        return new vector_class_1.Vector2D(this.size.x * this.scale.x, this.size.y * this.scale.y);\r\n    };\r\n    Animation.prototype.render = function () {\r\n        this.context.drawImage(this.image, this.x, this.y, this.size.x, this.size.y, this.position.x, this.position.y, this.size.x * this.scale.x, this.size.y * this.scale.y);\r\n    };\r\n    Animation.prototype.destroy = function () {\r\n        clearInterval(this.interval);\r\n    };\r\n    return Animation;\r\n}());\r\nexports[\"default\"] = Animation;\r\n","map":{"version":3,"file":"Animation.js","sourceRoot":"","sources":["node_modules\\dibujo\\src\\Media\\Animation.ts"],"names":[],"mappings":"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","sourcesContent":["import { Vector2D } from 'vector_class'\r\n\r\nclass Animation {\r\n  public loop: boolean = true\r\n  public size: Vector2D = new Vector2D(32, 32)\r\n  public scale: Vector2D\r\n  public frameRate: number\r\n  public x: number\r\n  public y: number\r\n  public image: HTMLImageElement\r\n  public interval: any\r\n  public frame:Vector2D = new Vector2D(0, 0)\r\n  public animations: any\r\n  public animationPlaying: boolean = false\r\n  public context: CanvasRenderingContext2D\r\n  public position: Vector2D  \r\n  constructor(configuration: any) {\r\n    this.load(configuration.src)\r\n    this.loop = configuration.loop ? configuration.loop : true\r\n    this.size = configuration.size ? configuration.size : new Vector2D(32, 32)\r\n    this.scale = configuration.scale ? configuration.scale : new Vector2D(1, 1)\r\n    this.frameRate = configuration.frameRate ? configuration.frameRate : 24\r\n    this.animations = configuration.animations\r\n    this.x = 0\r\n    this.y = 0\r\n  }\r\n\r\n  playAnimation (name: string): void {    \r\n    if (!this.animationPlaying) {\r\n      this.animationPlaying = true\r\n      this.frame.x = 0\r\n      this.frame.y = this.animations[name][1]\r\n      this.reproduceAnimation(name)\r\n    }\r\n  }\r\n\r\n  reproduceAnimation (name: string): void {\r\n    this.x = this.size.x * this.frame.x\r\n    this.y = this.size.y * this.frame.y\r\n    this.frame.x += 1\r\n    if (this.frame.x >= this.animations[name][0]) {\r\n      this.animationPlaying = false\r\n    } else {\r\n      setTimeout(() => this.reproduceAnimation(name), this.frameRate)\r\n    }\r\n  }\r\n\r\n  mouseDown() {\r\n\r\n  }\r\n\r\n  onClick(func: Function): void { }\r\n\r\n  load(src: string): void {\r\n    this.image = new Image()\r\n    this.image.src = src\r\n  }\r\n\r\n  getSize() {\r\n    return new Vector2D(this.size.x * this.scale.x, this.size.y * this.scale.y)\r\n  }\r\n\r\n  render() {\r\n    this.context.drawImage(\r\n      this.image,\r\n      this.x,\r\n      this.y,\r\n      this.size.x, this.size.y,\r\n      this.position.x,\r\n      this.position.y,\r\n      this.size.x * this.scale.x,\r\n      this.size.y * this.scale.y\r\n    )\r\n  }\r\n\r\n  destroy() {\r\n    clearInterval(this.interval)\r\n  }\r\n}\r\n\r\nexport default Animation\r\n"]}},"hash":"d94925d399d969ecd044bdcebbb60a5f","cacheData":{"env":{}},"id":39}