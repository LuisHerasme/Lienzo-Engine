!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.engine=i():t.engine=i()}(window,function(){return function(t){var i={};function e(o){if(i[o])return i[o].exports;var n=i[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=t,e.c=i,e.d=function(t,i,o){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var n in t)e.d(o,n,function(i){return t[i]}.bind(null,n));return o},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=41)}([function(t,i,e){"use strict";i.__esModule=!0;var o=function(){function t(t,i){void 0===t&&(t=0),void 0===i&&(i=0),this.x=t,this.y=i}return t.prototype.add=function(t){this.x+=t.x,this.y+=t.y},t.prototype.sub=function(t){this.x-=t.x,this.y-=t.y},t.prototype.mult=function(t){this.x*=t,this.y*=t},t.prototype.div=function(t){this.x/=t,this.y/=t},t.prototype.inverse=function(){this.x*=-1,this.y*=-1},t.prototype.mag=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.distance=function(i){return t.sub(this,i).mag()},t.prototype.angle=function(){return Math.atan2(this.y,this.x)},t.prototype.copy=function(){return new t(this.x,this.y)},t.prototype.normalize=function(){this.div(this.mag())},t.prototype.setMag=function(t){this.normalize(),this.mult(t)},t.prototype.setAngle=function(t){var i=this.mag();this.x=i*Math.cos(t),this.y=i*Math.sin(t)},t.prototype.addAngle=function(t){this.setAngle(this.angle()+t)},t.prototype.limit=function(t){this.mag()>t&&this.setMag(t)},t.prototype.moveTowards=function(i,e,o){if(void 0===e&&(e=1),void 0===o&&(o=1),this.distance(i)>o){var n=t.normalize(t.sub(i,this));n.mult(e),this.add(n)}},t.prototype.zero=function(){this.x=0,this.y=0},t.angleMagnitude=function(i,e){if(e<0){var o=new t(0,e);return o.setAngle(i),o.inverse(),o}var n=new t(e,0);return n.setAngle(i),n},t.add=function(i,e){return new t(i.x+e.x,i.y+e.y)},t.sub=function(i,e){return new t(i.x-e.x,i.y-e.y)},t.mult=function(i,e){return new t(i.x*e,i.y*e)},t.div=function(i,e){return new t(i.x/e,i.y/e)},t.inverse=function(i){return new t(-1*i.x,-1*i.y)},t.distance=function(t,i){return this.sub(t,i).mag()},t.normalize=function(t){return this.div(t,t.mag())},t.cross=function(t,i){return t.x*i.y-i.x*t.y},t.randomP=function(i,e){return new t(i*Math.random(),e*Math.random())},t.random=function(i,e){void 0===i&&(i=1),void 0===e&&(e=1);var o=1,n=1;return Math.random()>.5&&(o=-1),Math.random()>.5&&(n=-1),new t(i*Math.random()*o,e*Math.random()*n)},t}();i.default=o},function(t,i,e){"use strict";i.__esModule=!0;var o=e(0),n=e(38),s=function(){function t(t){this.weight=n.weights.normal,this.fill=!0,this.stroke=!1,this.anchor=new o.default(.5,.5),this.position=new o.default(0,0),this.color="grey",this.family="Arial",this.lineCap=n.LineCap.round,this.lineJoin=n.LineJoin.round,this.lineColor="rgb(0, 0, 0)",this.textAlign="center",this.shadowColor="rgba(0, 0, 0, 0)",this.textBaseline="middle",this.size=12,this.rotation=0,this.z_index=1,this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowOffsetX=0,this.shadowOffsetY=0,this.childs=[],t&&(void 0!==t.stroke?"boolean"==typeof t.stroke?this.stroke=t.stroke:console.info("Type of stroke is not boolean"):this.stroke=!1,void 0!==t.fill?"boolean"==typeof t.fill?this.fill=t.fill:console.info("Type of fill is not boolean"):this.fill=!0,this.weight=t.weights?t.weights:n.weights.normal,this.anchor=t.anchor?t.anchor:new o.default(.5,.5),this.position=t.position?t.position:new o.default(0,0),this.z_index=t.z_index?t.z_index:1,this.shadowBlur=t.shadowBlur?t.shadowBlur:0,this.shadowOffsetX=t.shadowOffsetX?t.shadowOffsetX:0,this.shadowOffsetY=t.shadowOffsetY?t.shadowOffsetY:0,this.shadowColor=t.shadowColor?t.shadowColor:"rgba(0,0,0,0)",this.miterLimit=t.miterLimit?t.miterLimit:10,this.lineCap=t.lineCap?t.lineCap:n.LineCap.round,this.color=t.color?t.color:"grey",this.family=t.family?t.family:"Arial",this.lineJoin=t.lineJoin?t.lineJoin:n.LineJoin.round,this.lineColor=t.lineColor?t.lineColor:"rgb(50, 50, 50)",this.textAlign=t.textAlign?t.textAlign:"center",this.textBaseline=t.textBaseline?t.textBaseline:"middle",this.size=t.size?t.size:12,this.rotation=t.rotation?t.rotation:0,this.lineWidth=t.lineWidth?t.lineWidth:1)}return t.prototype.add=function(t){t.context=this.context,this.childs.push(t)},t.prototype.remove=function(t){this.childs.push(t)},t.prototype.getFont=function(){return this.weight+" "+this.size+"px "+this.family},t.prototype.setStyle=function(){this.context.font=this.getFont(),this.context.fillStyle=this.color,this.context.lineCap=this.lineCap,this.context.lineJoin=this.lineJoin,this.context.strokeStyle=this.lineColor,this.context.lineWidth=this.lineWidth,this.context.textAlign=this.textAlign,this.context.shadowColor=this.shadowColor,this.context.textBaseline=this.textBaseline,this.context.miterLimit=this.miterLimit,this.context.shadowBlur=this.shadowBlur,this.context.shadowOffsetX=this.shadowOffsetX,this.context.shadowOffsetY=this.shadowOffsetY},t.prototype.render=function(){this.context.beginPath(),this.setStyle(),this.selfRender()},t.prototype.selfRender=function(){},t}();i.default=s},function(t,i,e){"use strict";i.__esModule=!0;var o=document.createElement("style");o.type="text/css",o.innerHTML="\n\n* {\n  margin:0%;\n  padding: 0%;\n}\n\ncanvas {\n  display: block;\n}\n",document.head.appendChild(o);var n=e(40);i.Scene=n.default;var s=e(37);i.Render=s.default;var r=e(12);i.LinearGradient=r.default;var h=e(0);i.Vector2D=h.default;var a=e(36);i.Color=a.default;var c=e(35);i.Animation=c.default;var u=e(1);i.Graphic=u.default;var l=e(34);i.Ellipse=l.default;var d=e(33);i.Poligon=d.default;var f=e(4);i.Picture=f.default;var p=e(32);i.Circle=p.default;var y=e(13);i.Video=y.default;var v=e(31);i.Rect=v.default;var m=e(30);i.Line=m.default;var g=e(29);i.Text=g.default;var x=e(28);i.Arc=x.default;var w=e(27);i.BezierCurve=w.default;var _=e(26);i.QuadraticCurve=_.default;var b=e(25),M=e(24),C=new b.default;i.mouse=C;var P=new M.default;i.keyboard=P},function(t,i,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])};return function(i,e){function o(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();i.__esModule=!0;var n,s=e(1),r=e(0);!function(t){t.mousemove="mousemove",t.mousedown="mousedown",t.mouseup="mouseup"}(n||(n={}));var h=function(t){function i(i){var e=t.call(this,i)||this;return e.moveEnabled=!1,e.hoverEnabled=!1,e.dragEndEnabled=!1,e.dragingEnabled=!1,e.mouseUpEnabled=!1,e.dragStartEnabled=!1,e.mouseDownEnabled=!1,e.clickEnabled=!1,e.moveMethods=[],e.hoverMethods=[],e.mouseUpMethods=[],e.dragingMethods=[],e.dragEndMethods=[],e.dragStartMethods=[],e.mouseDownMethods=[],e.clickMethods=[],console.log("configuration:\n    "+i),i&&i.radius&&(e.radius=i.radius),e}return o(i,t),i.prototype.checkIfInside=function(t){return this.position.distance(t)<this.radius},i.prototype.enableEvent=function(t,i){var e,o=this;document.addEventListener(t,function(t){e=new r.default(t.clientX,t.clientY),o.checkIfInside(e)&&i.forEach(function(t){return t(e)})})},i.prototype.click=function(t){var i,e=this;this.clickEnabled||(this.clickEnabled=!this.clickEnabled,document.addEventListener("click",function(t){i=new r.default(t.clientX,t.clientY),e.clickMethods.forEach(function(t){return t(i)})}));t=t.bind(this),this.clickMethods.push(t)},i.prototype.mouseDown=function(t){var i,e=this;(console.log("mouseDownEnabled",this.mouseDownEnabled),this.mouseDownEnabled)||(this.mouseDownEnabled=!this.mouseDownEnabled,document.addEventListener("click",function(t){console.log("evento creado"),i=new r.default(t.clientX,t.clientY),e.checkIfInside(i)&&e.mouseDownMethods.forEach(function(t){return t(i)})}));t=t.bind(this),this.mouseDownMethods.push(t)},i.prototype.mouseUp=function(t){this.mouseUpEnabled||(this.mouseUpEnabled=!this.mouseUpEnabled,this.enableEvent(n.mouseup,this.mouseUpMethods)),this.mouseUpMethods.push(t.bind(this))},i.prototype.hover=function(t){this.hoverEnabled||(this.hoverEnabled=!this.hoverEnabled,this.enableEvent(n.mousemove,this.hoverMethods)),this.hoverMethods.push(t.bind(this))},i.prototype.mouseMove=function(t){var i,e=this;this.moveEnabled||(this.moveEnabled=!this.moveEnabled,document.addEventListener("mousemove",function(t){i=new r.default(t.clientX,t.clientY),e.moveMethods.forEach(function(t){return t(i)})}));t=t.bind(this),this.moveMethods.push(t)},i.prototype.dragStart=function(t){this.dragStartMethods.push(t.bind(this))},i.prototype.draging=function(t){this.dragingMethods.push(t.bind(this))},i.prototype.dragEnd=function(t){this.dragEndMethods.push(t.bind(this))},i.prototype.enableMouseDrag=function(){var t=this,i=!1,e=new r.default;document.addEventListener("mousemove",function(o){i&&(t.position=r.default.add(e,new r.default(o.clientX,o.clientY)),t.dragingMethods.forEach(function(t){return t()}))}),this.mouseDown(function(o){i||(document.body.style.cursor="pointer",i=!0,e=r.default.sub(t.position,o),t.position=r.default.add(e,o),t.dragStartMethods.forEach(function(t){return t()}))}),this.mouseUp(function(){i&&(document.body.style.cursor="default",i=!1,t.dragEndMethods.forEach(function(t){return t()}))})},i}(s.default);i.default=h},function(t,i,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])};return function(i,e){function o(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();i.__esModule=!0;var n=e(0),s=e(3),r=document.createElement("canvas"),h=r.getContext("2d"),a=function(t){function i(i){var e=t.call(this,i)||this;return e.position=new n.default(0,0),e.anchor=new n.default(0,0),e.ready=!1,e.params=[],e.todo=[],e.image=new Image,e.image.src=i.src,console.log(e.image),e.image.addEventListener("load",function(){e.ready=!0,e.width=i.width?i.width:e.image.width,e.height=i.height?i.height:e.image.height,e.todo.forEach(function(t,i){t.apply(void 0,e.params[i])})}),e.image.addEventListener("error",function(t){console.log(t),console.error("Error loading the image...")}),e.rotation=i.rotation?i.rotation:0,e.opacity=i.opacity?i.opacity:1,e.width=i.width?i.width:e.image.width,e.height=i.height?i.height:e.image.height,e}return o(i,t),i.prototype.getImageData=function(){return h.clearRect(0,0,window.innerWidth,window.innerHeight),r.width=this.width,r.height=this.height,h.drawImage(this.image,0,0,this.width,this.height),h.getImageData(0,0,this.width,this.height)},i.prototype.realPosition=function(){return new n.default(this.position.x-this.anchor.x*this.width,this.position.y-this.anchor.y*this.height)},i.prototype.render=function(){this.context.beginPath(),this.context.save(),this.context.translate(this.position.x,this.position.y),this.context.rotate(this.rotation),this.context.globalAlpha=this.opacity,this.context.drawImage(this.image,-this.anchor.x*this.width,-this.anchor.y*this.height,this.width,this.height),this.context.restore()},i}(s.default);i.default=a},function(t,i,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])};return function(i,e){function o(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();i.__esModule=!0;var n=e(2),s=function(t){function i(i,e){var o=this;return console.log("Sprite Component configuration:\n        "+i),(o=t.call(this,i)||this).mouseMove(function(t){return e.run("mousemove",[t])}),console.log("Testing events"),o.mouseDown(function(t){console.log("Testing mouse down"),e.run("mousedown",[t])}),n.keyboard.down(function(t){e.run("keyDown",[t])}),n.keyboard.press(function(t){e.run("keyPress",[t])}),o.mouseUp(function(t){return e.run("mouseUp",[t])}),o.click(function(t){return e.run("click",[t])}),o}return o(i,t),i}(e(4).default);i.default=s},function(t,i,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])};return function(i,e){function o(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();i.__esModule=!0;var n=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return o(i,t),i}(e(9).default);i.default=n},function(t,i,e){"use strict";i.__esModule=!0;var o=e(20),n=e(19),s=e(6),r=e(5),h=e(16),a=e(0),c=function(){function t(t){this.identifierComponent=new o.default,this.transformComponent=new n.default,this.scriptComponent=new h.default(this),this.scene=t}return t.prototype.setSprite=function(t){console.log("Configuration\n    --\x3e\n    "+t),this.spriteComponent=new r.default({src:t.src,width:t.width,height:t.height,position:this.transformComponent.position,rotation:this.transformComponent.rotation,scale:this.transformComponent.scale},this),this.scene.renderScene.add(this.spriteComponent)},t.prototype.setRigidBody=function(t){this.colliderComponent=new s.default(this.transformComponent.position,new a.default(t.width,t.height)),this.colliderComponent.onCollision=t.onCollision,this.scene.physicsScene.add(this.colliderComponent),console.log(this.scene.physicsScene)},t.prototype.run=function(t,i){this.scriptComponent.run(t,i)},t.prototype.update=function(){this.colliderComponent&&(this.transformComponent.position=this.colliderComponent.position),this.spriteComponent.rotation=this.transformComponent.rotation,this.spriteComponent.position=this.transformComponent.position},t.prototype.destroy=function(){this.colliderComponent&&this.scene.physicsScene.remove(this.colliderComponent),this.scene.remove(this)},t}();i.default=c},function(t,i,e){"use strict";i.__esModule=!0;var o=e(0),n=function(){function t(t,i,e){void 0===e&&(e=1),this.velocity=new o.default(0,0),this.position=new o.default(0,0),this.acceleration=new o.default(0,0),this.position=t,this.restitution=i,this.mass=e}return t.prototype.addForce=function(t){this.acceleration.add(t)},t.prototype.momentum=function(){return o.default.mult(this.velocity,this.mass)},t.prototype.inelasticCollision=function(t){var i=this.velocity,e=t.velocity,n=t.momentum();n.add(this.momentum());var s=this.mass+t.mass;this.velocity=o.default.sub(e,i),this.velocity.mult(this.restitution*t.mass),this.velocity.add(n),this.velocity.div(s),t.velocity=o.default.sub(i,e),t.velocity.mult(t.restitution*this.mass),t.velocity.add(n),t.velocity.div(s)},t.prototype.update=function(){this.acceleration.div(this.mass),this.velocity.add(this.acceleration),this.position.add(this.velocity),this.acceleration.zero()},t}();i.default=n},function(t,i,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])};return function(i,e){function o(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();i.__esModule=!0;var n=e(0),s=function(t){function i(i,e,o){void 0===i&&(i=new n.default(0,0)),void 0===e&&(e=new n.default(10,10)),void 0===o&&(o=1);var s=t.call(this,i,o)||this;return s.size=new n.default(10,10),s.size=e,s.mass=s.size.x*s.size.y,s}return o(i,t),i.prototype.separate=function(t){var i=this.position.x+this.size.x/2-(t.position.x+t.size.x/2),e=this.position.y+this.size.y/2-(t.position.y+t.size.y/2),o=(this.size.x+t.size.x)/2,n=(this.size.y+t.size.y)/2,s=o*e,r=n*i;Math.abs(i)<=o&&Math.abs(e)<=n&&(s>r?s>-r?(this.velocity.y*=-1,this.position.y+=n-e):(this.velocity.x*=-1,this.position.x-=i+o):s>-r?(this.velocity.x*=-1,this.position.x+=o-i):(this.velocity.y*=-1,this.position.y-=e+n))},i.prototype.collidesWith=function(t){this.position.x<t.position.x+t.size.x&&this.position.x+this.size.x>t.position.x&&this.position.y<t.position.y+t.size.y&&this.size.y+this.position.y>t.position.y&&(this.onCollision&&this.onCollision(t),t.onCollision&&t.onCollision(this),t instanceof i&&this.inelasticCollision(t),this.separate(t))},i}(e(8).default);i.default=s},function(t,i,e){"use strict";i.__esModule=!0;var o=e(23),n=e(2),s=function(){function t(t){this.physicsScene=new o.default,this.renderScene=new n.Scene(t.getRender()),this.gameObjects=[]}return t.prototype.add=function(t){this.gameObjects.push(t)},t.prototype.remove=function(t){this.gameObjects=this.gameObjects.filter(function(i){return t.identifierComponent.id!==i.identifierComponent.id})},t.prototype.find=function(t,i){return this.gameObjects.filter(function(e){return e.identifierComponent[t]===i})},t.prototype.run=function(t,i){for(var e=0,o=this.gameObjects;e<o.length;e++){o[e].run(t,i)}},t.prototype.update=function(){this.physicsScene.update(),this.renderScene.render(),this.gameObjects.forEach(function(t){return t.update()}),this.run("update")},t}();i.default=s},function(t,i,e){"use strict";i.__esModule=!0;var o=function(){function t(){this.events={mousemove:[],mouseup:[],mousedown:[],mousemoveActive:!1,mousedownActive:!1,mouseupActive:!1,keypress:[],keyup:[],keydown:[],keypressActive:!1,keydownActive:!1,keyupActive:!1}}return t.prototype.initEvent=function(t){var i=this;document.addEventListener(t,function(e){i.events[t].forEach(function(t){return t(e,i)})})},t}();i.default=o},function(t,i,e){"use strict";i.__esModule=!0;var o=e(0),n=function(){return function(t){this.context=t.context,this.size=t.size?t.size:new o.default(100,100),this.gradient=this.context.createLinearGradient(this.position.x,this.position.y,this.size.x,this.size.y);for(var i=0,e=0,n=t.colors;e<n.length;e++){var s=n[e];this.gradient.addColorStop(i,s),i+=1/t.colors.length}}}();i.default=n},function(t,i,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])};return function(i,e){function o(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();i.__esModule=!0;var n=e(1),s=e(0),r=function(t){function i(i){var e=t.call(this,i)||this;return e.type="img",e.ready=!1,e.todo=[],e.params=[],e.filterEnable=!1,e.filterColors=[],e.video=document.createElement("video"),e.video.src=i.src,e.video.play(),e.video.crossOrigin="Anonymous",e.video.addEventListener("loadedmetadata",function(){e.ready=!0,console.info("Video "+i.src+" correctly loaded."),console.log(e.todo),console.log(e.params),e.todo.forEach(function(t,i){t.apply(void 0,e.params[i])})}),e.video.addEventListener("error",function(){console.error("Error loading the video...")}),e.angle=i.angle?i.angle:0,e.opacity=i.opacity?i.opacity:1,e.width=i.width?i.width:e.video.width,e.height=i.height?i.height:e.video.height,e}return o(i,t),i.prototype.filter=function(){},i.prototype.getImageData=function(){var t=document.createElement("canvas");document.body.appendChild(t);var i=t.getContext("2d");return t.width=this.width,t.height=this.height,i.translate(this.anchor.x*this.width,this.anchor.y*this.height),i.rotate(this.angle),i.drawImage(this.video,-this.anchor.x*this.width,-this.anchor.y*this.height,this.width,this.height),document.body.removeChild(t),i.getImageData(0,0,this.width,this.height)},i.prototype.onClick=function(t){},i.prototype.realPosition=function(){return new s.default(this.position.x-this.anchor.x*this.width,this.position.y-this.anchor.y*this.height)},i.prototype.renderData=function(){this.filterEnable&&this.filterColor(this.filterColors[0],this.filterColors[1],this.filterColors[2]),this.context.beginPath(),this.context.save(),this.context.putImageData(this.data,this.position.x-this.anchor.x*this.width,this.position.y-this.anchor.y*this.height),this.context.restore()},i.prototype.filterColor=function(t,i,e){if(this.ready){this.filterEnable=!0,this.filterColors=[t,i,e];for(var o=this.getImageData(),n=0;n<o.data.length;n+=4)o.data[n]+=t,o.data[n+1]+=i,o.data[n+2]+=e;this.data=o,this.render=this.renderData}else this.todo.push(this.filterColor.bind(this)),this.params.push([t,i,e])},i.prototype.render=function(){this.context.beginPath(),this.context.save(),this.context.translate(this.position.x,this.position.y),this.context.rotate(this.angle),this.context.globalAlpha=this.opacity,this.context.drawImage(this.video,-this.anchor.x*this.width,-this.anchor.y*this.height,this.width,this.height),this.context.restore()},i}(n.default);i.default=r},function(t,i,e){"use strict";i.__esModule=!0;var o=function(){function t(t){this.sound=new Audio(t.src)}return t.prototype.play=function(){this.sound.play()},t}();i.default=o},function(t,i,e){"use strict";i.__esModule=!0;var o=e(2),n=e(10),s=e(7),r=function(){function t(t,i,e){this.scenes={},this.render=new o.Render(t,i,e),this.scene=new n.default(this)}return t.prototype.setScene=function(t){this.scene=t},t.prototype.createScene=function(t){var i=new n.default(this);return this.scenes[t]=i,i},t.prototype.gameObject=function(t){var i=new s.default(this.scene);return t.Script&&i.scriptComponent.add(t.Script),t.RigidBody&&i.setRigidBody(t.RigidBody),t.Sprite&&i.setSprite(t.Sprite),console.log("LOADED"),i},t.prototype.add=function(t){this.scene.add(t)},t.prototype.useScene=function(t){this.scenes[t]?this.setScene(this.scenes[t]):console.error("The scene "+t+" is not defined.")},t.prototype.getRender=function(){return this.render},t.prototype.start=function(){var t=this;this.scene.run("start"),this.interval=setInterval(function(){t.scene.update()})},t.prototype.stop=function(){clearInterval(this.interval)},t}();i.default=r},function(t,i,e){"use strict";i.__esModule=!0;var o=function(){function t(t){this.methods={},this.gameObject=t}return t.prototype.add=function(t){for(var i=0,e=Object.keys(t);i<e.length;i++){var o=e[i];this.methods[o]||(this.methods[o]=[]),this.methods[o].push(t[o].bind(this.gameObject))}},t.prototype.run=function(t,i){if(this.methods[t])for(var e=0,o=this.methods[t];e<o.length;e++){o[e].apply(void 0,i)}},t}();i.default=o},function(t,i,e){"use strict";i.__esModule=!0;var o=function(){function t(t,i,e){this.x=t,this.y=i,this.z=e}return t.prototype.add=function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},t.prototype.sub=function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},t.prototype.mult=function(t){this.x*=t,this.y*=t,this.z*=t},t.prototype.div=function(t){this.x/=t,this.y/=t,this.z/=t},t.prototype.inverse=function(){this.x*=-1,this.y*=-1,this.z*=-1},t.prototype.mag=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},t.prototype.distance=function(i){return t.sub(this,i).mag()},t.prototype.angle=function(){return Math.atan2(this.y,this.x)},t.prototype.copy=function(){return new t(this.x,this.y,this.z)},t.prototype.normalize=function(){this.div(this.mag())},t.prototype.setMag=function(t){this.normalize(),this.mult(t)},t.prototype.setAngle=function(t){var i=this.mag();this.x=i*Math.cos(t),this.y=i*Math.sin(t)},t.prototype.addAngle=function(t){this.setAngle(this.angle()+t)},t.prototype.limit=function(t){this.mag()>t&&this.setMag(t)},t.prototype.moveTowards=function(i,e,o){if(this.distance(i)>o){var n=t.normalize(i);n.mult(e),this.add(n)}},t.prototype.zero=function(){this.x=0,this.y=0,this.z=0},t.add=function(i,e){return new t(i.x+e.x,i.y+e.y,i.z+e.z)},t.sub=function(i,e){return new t(i.x-e.x,i.y-e.y,i.z-e.z)},t.mult=function(i,e){return new t(i.x*e,i.y*e,i.z*e)},t.div=function(i,e){return new t(i.x/e,i.y/e,i.z/e)},t.inverse=function(i){return new t(-1*i.x,-1*i.y,-1*i.z)},t.distance=function(t,i){return this.sub(t,i).mag()},t.normalize=function(t){return this.div(t,t.mag())},t.cross=function(t,i){return t.x*i.y-i.x*t.y},t.random=function(i,e,o){return Math.random()>.5?new t(i*Math.random(),e*Math.random(),o*Math.random()):new t(-i*Math.random(),-e*Math.random(),-o*Math.random())},t}();i.default=o},function(t,i,e){"use strict";i.__esModule=!0;var o=e(0);i.Vector2D=o.default;var n=e(17);i.Vector3D=n.default},function(t,i,e){"use strict";i.__esModule=!0;var o=e(18),n=function(){function t(t){this.position=new o.Vector2D(0,0),this.scale=new o.Vector2D(1,1),this.rotation=0,t&&(t.position&&(this.position=t.position),t.rotation&&(this.rotation=t.rotation),t.scale&&(this.scale=t.scale))}return t.prototype.rotate=function(t){this.rotation+=t},t.prototype.setPosition=function(t,i){this.position=new o.Vector2D(t,i)},t.prototype.globalTranslate=function(t,i){this.position.add(new o.Vector2D(t,i))},t.prototype.translate=function(t,i){var e=o.Vector2D.angleMagnitude(this.rotation,i),n=o.Vector2D.angleMagnitude(this.rotation+Math.PI/2,t);this.position.add(new o.Vector2D(e.x,e.y)),this.position.add(new o.Vector2D(n.x,n.y))},t}();i.default=n},function(t,i,e){"use strict";i.__esModule=!0;var o=function(){return function(t,i){this.name=t,this.tags=i}}();i.default=o},function(t,i,e){"use strict";i.__esModule=!0;var o=e(0),n=function(){function t(t,i){this.position=t,this.radius=i}return t.prototype.collidesWith=function(t){return o.default.distance(this.position,t.position)<this.radius+t.radius},t.prototype.translate=function(t){var i=this;this.World.particles.forEach(function(t){var e=o.default.sub(i.position,t.position);if(e.mag()<i.radius+t.radius){var n=o.default.normalize(e);n.mult(i.radius+t.radius),i.position.add(n)}}),this.position.add(t)},t}();i.default=n},function(t,i,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])};return function(i,e){function o(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();i.__esModule=!0;var n=e(0),s=e(8),r=e(21),h=function(t){function i(i,e,o){void 0===i&&(i=new n.default(0,0)),void 0===e&&(e=5),void 0===o&&(o=1);var s=t.call(this,i,o)||this;return s.radius=e,s.mass=Math.PI*Math.pow(s.radius,2),s}return o(i,t),i.prototype.collidesWith=function(t){var e=n.default.sub(this.position,t.position);if(e.mag()<this.radius+t.radius){var o=n.default.normalize(e);o.mult(this.radius+t.radius),this.position.add(o),this.onCollision&&this.onCollision(t),t.onCollision&&t.onCollision(this),t instanceof i&&this.inelasticCollision(t),t instanceof r.default&&(this.velocity.inverse(),this.velocity.mult(this.restitution))}},i}(s.default);i.default=h},function(t,i,e){"use strict";i.__esModule=!0;var o=e(9),n=e(22),s=function(){function t(){this.maxPositionX=800,this.minPositionX=0,this.maxPositionY=600,this.minPositionY=0,this.particles=[],this.dynamicParticles=[]}return t.prototype.setBounds=function(t,i,e,o){this.maxPositionX=t,this.minPositionX=i,this.maxPositionY=e,this.minPositionY=o},t.prototype.add=function(t){t instanceof o.default||t instanceof n.default?this.dynamicParticles.push(t):(t.World=this,this.particles.push(t))},t.prototype.remove=function(t){var i;t instanceof o.default||t instanceof n.default?(i=this.dynamicParticles.indexOf(t))>-1&&(this.dynamicParticles=this.dynamicParticles.slice(i,1)):(i=this.particles.indexOf(t))>-1&&(this.particles=this.particles.slice(i,1))},t.prototype.insideWorldBounds=function(t){t.position.x>this.maxPositionX?(t.position.x=this.maxPositionX,t.velocity.x*=-1):t.position.x<this.minPositionX&&(t.position.x=this.minPositionX,t.velocity.x*=-1),t.position.y>this.maxPositionY?(t.position.y=this.maxPositionY,t.velocity.y*=-1):t.position.y<this.minPositionY&&(t.position.y=this.minPositionY,t.velocity.y*=-1)},t.prototype.update=function(){for(var t=0;t<this.dynamicParticles.length;t++){var i=this.dynamicParticles[t];i.update();for(var e=0;e<this.dynamicParticles.length;e++)if(t!==e){var o=this.dynamicParticles[e];i.collidesWith(o)}}},t}();i.default=s},function(t,i,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])};return function(i,e){function o(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();i.__esModule=!0;var n=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.keys=[],i}return o(i,t),i.prototype.press=function(t){this.events.keypressActive||(this.events.keypressActive=!0,this.initEvent("keypress")),this.events.keypress.push(t)},i.prototype.down=function(t){this.events.keydownActive||(this.events.keydownActive=!0,this.initEvent("keydown")),this.events.keydown.push(t)},i.prototype.up=function(t,i){var e=this;this.events.keyupActive||(this.events.keyupActive=!0,this.initEvent("keyup")),this.events.keyup.push(function(o,n){n.key===t&&i(e,n)})},i}(e(11).default);i.default=n},function(t,i,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])};return function(i,e){function o(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();i.__esModule=!0;var n=e(0),s=function(t){function i(){var i=t.call(this)||this;return i.position=new n.default(0,0),i.clicked=!1,i.move(function(t,e){i.position.x=e.clientX,i.position.y=e.clientY}),i}return o(i,t),i.prototype.move=function(t){this.events.mousemoveActive||(this.initEvent("mousemove"),this.events.mousemoveActive=!0),this.events.mousemove.push(t)},i.prototype.up=function(t){this.events.mouseupActive||(this.initEvent("mouseup"),this.events.mouseupActive=!0)},i.prototype.down=function(t){this.events.mousedownActive||(this.initEvent("mousedown"),this.events.mousedownActive=!0)},i}(e(11).default);i.default=s},function(t,i,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])};return function(i,e){function o(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();i.__esModule=!0;var n=function(t){function i(i){var e=t.call(this,i)||this;return e.color=i.color?i.color:"black",e.width=i.width?i.width:5,e.cords=i.cords?i.cords:[[20,100],[200,20]],e}return o(i,t),i.prototype.render=function(){this.context.save(),this.context.beginPath(),this.context.lineCap=this.lineCap,this.context.lineJoin=this.lineJoin,this.context.lineWidth=this.width,this.context.strokeStyle=this.color,this.context.moveTo(this.position.x,this.position.y),this.context.quadraticCurveTo(this.cords[0][0],this.cords[0][1],this.cords[1][0],this.cords[1][1]),this.context.stroke(),this.context.restore()},i}(e(1).default);i.default=n},function(t,i,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])};return function(i,e){function o(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();i.__esModule=!0;var n=function(t){function i(i){var e=t.call(this,i)||this;return e.cords=i.cords?i.cords:[[10,10],[80,20],[30,30]],e}return o(i,t),i.prototype.render=function(){this.context.save(),this.context.beginPath(),this.context.lineCap=this.lineCap,this.context.lineWidth=this.lineWidth,this.context.strokeStyle=this.lineColor,this.context.lineJoin=this.lineJoin,this.context.translate(this.position.x,this.position.y),this.context.bezierCurveTo(this.cords[0][0],this.cords[0][1],this.cords[1][0],this.cords[1][1],this.cords[2][0],this.cords[2][1]),this.context.stroke(),this.context.restore()},i}(e(1).default);i.default=n},function(t,i,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])};return function(i,e){function o(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();i.__esModule=!0;var n=function(t){function i(i){var e=t.call(this,i)||this;return e.endAngle=0,e.startAngle=Math.PI,i&&(e.endAngle=i.endAngle?i.endAngle:0,e.startAngle=i.startAngle?i.startAngle:Math.PI),e}return o(i,t),i.prototype.selfRender=function(){this.context.arc(0,0,this.radius,this.endAngle,this.startAngle,!0),this.fill&&this.context.fill(),this.stroke&&this.context.stroke()},i}(e(3).default);i.default=n},function(t,i,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])};return function(i,e){function o(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();i.__esModule=!0;var n=function(t){function i(i){var e=t.call(this,i)||this;return e.fontConfig="",e.lineHeight=12,e.maxWidth=500,i&&(e.content=i.content?i.content:""),e}return o(i,t),i.prototype.wrapText=function(){for(var t=this.position.x,i=this.position.y,e=this.content.split(" "),o="",n=0;n<e.length;n++){var s=o+e[n]+" ";this.context.measureText(s).width>this.maxWidth&&n>0?(this.context.fillText(o,t,i),o=e[n]+" ",i+=this.lineHeight):o=s}this.context.fillText(o,t,i)},i.prototype.render=function(){this.context.fillStyle=this.color,this.context.font=this.weight+" "+this.size+"px "+this.family,this.context.textAlign=this.textAlign,this.context.textBaseline=this.textBaseline,this.stroke&&this.context.strokeText(this.content,this.position.x,this.position.y),this.context.fillText(this.content,this.position.x,this.position.y)},i}(e(1).default);i.default=n},function(t,i,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])};return function(i,e){function o(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();i.__esModule=!0;var n=e(1),s=e(0),r=function(t){function i(i){var e=t.call(this,i)||this;return e.start=new s.default(0,0),e.end=new s.default(1,1),i&&(i.start&&(e.start=i.start),i.end&&(e.end=i.end),i.color&&(e.color=i.color),i.start&&(e.position=i.start),e.end=new s.default(e.end.x-e.start.x,e.end.y-e.start.y)),e}return o(i,t),i.prototype.selfRender=function(){this.context.beginPath(),this.context.moveTo(this.position.x,this.position.y),this.context.lineTo(this.end.x+this.position.x,this.end.y+this.position.y),this.context.stroke()},i}(n.default);i.default=r},function(t,i,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])};return function(i,e){function o(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();i.__esModule=!0;var n=function(t){function i(i){var e=t.call(this,i)||this;return e.width=1,e.height=1,i.width&&(e.width=i.width),i.height&&(e.height=i.height),e}return o(i,t),i.prototype.selfRender=function(){this.fill&&this.context.fillRect(this.position.x,this.position.y,this.width,this.height),this.stroke&&this.context.strokeRect(this.position.x,this.position.y,this.width,this.height)},i}(e(1).default);i.default=n},function(t,i,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])};return function(i,e){function o(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();i.__esModule=!0;var n=function(t){function i(i){var e=t.call(this,i)||this;return e.radius=5,i&&(e.radius=i.radius?i.radius:5),e}return o(i,t),i.prototype.selfRender=function(){this.context.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI),this.fill&&this.context.fill(),this.stroke&&this.context.stroke()},i}(e(3).default);i.default=n},function(t,i,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])};return function(i,e){function o(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();i.__esModule=!0;var n=e(1),s=e(0),r=function(t){function i(i){var e=t.call(this,i)||this;return i.color&&(e.color=i.color),i.stroke&&(e.stroke=i.stroke),i.cords&&(e.cords=i.cords.slice(1,i.cords.length)),i.fill&&(e.fill=i.fill),e.position=i.cords.slice[0],e.cords.filter(function(t){return new s.default(t.x-e.position.x,t.y-e.position.y)}),e}return o(i,t),i.prototype.render=function(){this.context.beginPath(),this.context.strokeStyle=this.lineColor,this.context.lineCap=this.lineCap,this.context.fillStyle=this.color,this.context.lineJoin=this.lineJoin,this.context.moveTo(this.cords[0].x,this.cords[0].y);for(var t=0;t<this.cords.length;t++)this.context.lineTo(this.cords[t].x+this.position.x,this.cords[t].y+this.position.y);this.context.closePath(),this.context.fill(),this.stroke&&this.context.stroke},i}(n.default);i.default=r},function(t,i,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])};return function(i,e){function o(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();i.__esModule=!0;var n=e(1),s=e(0),r=e(12),h=function(t){function i(i){var e=t.call(this,i)||this;return e.radiusX=10,e.radiusY=5,i&&(e.lineWidth=i.lineWidth?i.lineWidth:e.lineWidth,e.lineColor=i.lineColor?i.lineColor:e.lineColor,e.radiusX=i.radiusX?i.radiusX:e.radiusX,e.radiusY=i.radiusY?i.radiusY:e.radiusY,e.stroke=i.stroke?i.stroke:e.stroke,e.color=i.color?i.color:e.color,e.fill=i.fill?i.fill:e.fill,i.linearGradient&&(e.linearGradient=i.linearGradient)),e}return o(i,t),i.prototype.renderGradient=function(){this.color=new r.default({context:this.context,colors:this.linearGradient,size:new s.default(this.position.x,this.position.y+this.radiusY),position:new s.default(this.position.x,this.position.y-this.radiusY/2)}).gradient,this.fill&&(this.context.beginPath(),this.context.fillStyle=this.color,this.context.ellipse(this.position.x,this.position.y,this.radiusX,this.radiusY,0,0,2*Math.PI),this.context.fill()),this.stroke&&(this.context.lineWidth=this.lineWidth,this.context.strokeStyle=this.lineColor,this.context.stroke())},i.prototype.render=function(){this.renderGradient()},i}(n.default);i.default=h},function(t,i,e){"use strict";i.__esModule=!0;var o=e(0),n=function(){function t(t){this.loop=!0,this.size=new o.default(32,32),this.frame=new o.default(0,0),this.animationPlaying=!1,this.load(t.src),this.loop=!t.loop||t.loop,this.size=t.size?t.size:new o.default(32,32),this.scale=t.scale?t.scale:new o.default(1,1),this.frameRate=t.frameRate?t.frameRate:24,this.animations=t.animations,this.x=0,this.y=0}return t.prototype.playAnimation=function(t){this.animationPlaying||(this.animationPlaying=!0,this.frame.x=0,this.frame.y=this.animations[t][1],this.reproduceAnimation(t))},t.prototype.reproduceAnimation=function(t){var i=this;this.x=this.size.x*this.frame.x,this.y=this.size.y*this.frame.y,this.frame.x+=1,this.frame.x>=this.animations[t][0]?this.animationPlaying=!1:setTimeout(function(){return i.reproduceAnimation(t)},this.frameRate)},t.prototype.load=function(t){this.image=new Image,this.image.src=t},t.prototype.getSize=function(){return new o.default(this.size.x*this.scale.x,this.size.y*this.scale.y)},t.prototype.render=function(){this.context.drawImage(this.image,this.x,this.y,this.size.x,this.size.y,this.position.x,this.position.y,this.size.x*this.scale.x,this.size.y*this.scale.y)},t.prototype.destroy=function(){clearInterval(this.interval)},t}();i.default=n},function(t,i,e){"use strict";i.__esModule=!0;var o=function(){function t(t,i,e,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===e&&(e=0),void 0===o&&(o=1),this.red=Math.round(255*t),this.green=Math.round(255*i),this.blue=Math.round(255*e),this.alpha=o,this.red>255?this.red=255:this.red<0&&(this.red=0),this.green>255?this.green=255:this.green<0&&(this.green=0),this.blue>255?this.blue=255:this.blue<0&&(this.blue=0),this.alpha>1?this.alpha=1:this.alpha<0&&(this.alpha=0)}return t.prototype.setRed=function(t){this.red=t>255?255:t<0?0:t},t.prototype.setGreen=function(t){this.green=t>255?255:t<0?0:t},t.prototype.setBlue=function(t){this.blue=t>255?255:t<0?0:t},t.prototype.rgba=function(){return"rgba("+this.red+", "+this.green+", "+this.blue+", "+this.alpha+")"},t.prototype.rgb=function(){return"rgb("+this.red+", "+this.green+", "+this.blue+")"},t.random=function(){return new t(Math.random(),Math.random(),Math.random())},t}();i.default=o},function(t,i,e){"use strict";i.__esModule=!0;var o=e(0),n=function(){function t(t,i,e){var o=this;this.frameRate=1e3/60,t?this.canvas=t:(this.canvas=document.createElement("canvas"),document.body.appendChild(this.canvas)),i&&e?(this.width=i,this.height=e,this.canvas.width=this.convertPercentage(i,window.innerWidth),this.canvas.height=this.convertPercentage(e,window.innerHeight)):(this.width="100%",this.height="100%",this.canvas.width=this.convertPercentage(this.width,window.innerWidth),this.canvas.height=this.convertPercentage(this.height,window.innerHeight)),this.context=this.canvas.getContext("2d"),window.addEventListener("resize",function(){o.canvas.width=o.convertPercentage(o.width,window.innerWidth),o.canvas.height=o.convertPercentage(o.height,window.innerHeight)})}return t.prototype.convertPercentage=function(t,i){return"%"===t.slice(-1)?(t=t.substring(0,t.length-1),Number(t)/100*i):Number(t)},t.prototype.getWidth=function(){return this.canvas.width},t.prototype.getHeight=function(){return this.canvas.height},t.prototype.getSize=function(){return new o.default(this.canvas.width,this.canvas.height)},t.prototype.getCanvasImage=function(){return this.canvas.toDataURL()},t.prototype.fullScreen=function(){var t=this;document.addEventListener("click",function(){t.canvas.webkitRequestFullScreen()})},t.prototype.setScene=function(t){this.scene=t,this.scene.renderer=this,this.scene.context=this.context,this.scene.smoth(!1)},t}();i.default=n},function(t,i,e){"use strict";i.__esModule=!0,function(t){t.butt="butt",t.square="square",t.round="round"}(i.LineCap||(i.LineCap={})),function(t){t.bevel="bevel",t.round="round",t.miter="miter"}(i.LineJoin||(i.LineJoin={})),function(t){t.repeat="repeat",t.repeat_x="repeat-x",t.repeat_y="repeat-y",t.no_repeat="no-repeat"}(i.Pattern||(i.Pattern={})),function(t){t.lighter="lighter",t.normal="normal",t.bolder="bolder",t.bold="bold"}(i.weights||(i.weights={}))},function(t,i,e){"use strict";i.__esModule=!0;var o=e(0),n=e(2),s=function(){function t(t){this.keyMap={up:"w",down:"s",left:"a",right:"d"},this.position=new o.default(0,0),this.fLastPosition=new o.default(0,0),this.followingX=!1,this.followingY=!1,this.keyTranslateEnabled=!1,this.velocity=new o.default(0,0),this.acceleration=new o.default(0,0),this.friction=.9,this.context=t}return t.prototype.addForce=function(t){this.acceleration.add(t)},t.prototype.getMouse=function(){return o.default.add(n.mouse.position,this.position)},t.prototype.disableKeyTranslate=function(){},t.prototype.enableKeyTranslate=function(){var t=this;this.keyTranslateEnabled=!0,document.addEventListener("keypress",function(i){i.key.toLowerCase()===t.keyMap.up&&t.addForce(new o.default(0,10)),i.key.toLowerCase()===t.keyMap.down&&t.addForce(new o.default(0,-10)),i.key.toLowerCase()===t.keyMap.left&&t.addForce(new o.default(10,0)),i.key.toLowerCase()===t.keyMap.right&&t.addForce(new o.default(-10,0))})},t.prototype.follow=function(t){this.followedPosition=t.position,this.fLastPosition=this.followedPosition.copy(),this.followingX=!0,this.followingY=!0},t.prototype.followX=function(t){this.followedPosition=t.position,this.followingX=!0},t.prototype.followY=function(t){this.followedPosition=t.position,this.followingY=!0},t.prototype.stopFollowing=function(){this.followingX=!1,this.followingY=!1},t.prototype.stopFollowingX=function(){this.followingX=!1},t.prototype.stopFollowingY=function(){this.followingY=!1},t.prototype.zoom=function(t,i){this.context.translate(t.x,t.y),this.context.scale(i.x,i.y),this.context.translate(-t.x,-t.y)},t.prototype.translate=function(t,i){this.position.x-=t,this.position.y-=i,this.context.translate(t,i)},t.prototype.update=function(){if(this.keyTranslateEnabled&&(this.velocity.add(this.acceleration),this.velocity.mult(this.friction),this.translate(this.velocity.x,this.velocity.y),this.position.add(this.velocity),this.acceleration.zero()),this.followingX||this.followingY){var t=o.default.sub(this.fLastPosition,this.followedPosition);this.fLastPosition=this.followedPosition.copy(),this.translate(t.x,t.y)}},t}();i.default=s},function(t,i,e){"use strict";i.__esModule=!0;var o=e(39),n=e(13),s=e(4),r=function(){function t(t){this.backgroundColor="black",this.childs=[],this.frameRate=0,this.ready=!1,this.renderer=t,this.context=this.renderer.context,this.camera=new o.default(this.context)}return t.prototype.dataLoaded=function(){return!this.childs.filter(function(t){return t instanceof s.default||t instanceof n.default}).some(function(t){return!t.ready})},t.prototype.add=function(t){t.context=this.context,this.childs.push(t),this.organizeByZindex()},t.prototype.remove=function(t){var i=this.childs.indexOf(t);i>=0&&this.childs.splice(i,1)},t.prototype.clearScreen=function(){this.context.save(),this.context.setTransform(1,0,0,1,0,0),this.context.fillStyle=this.backgroundColor,this.context.fillRect(0,0,window.innerWidth,window.innerHeight),this.context.restore()},t.prototype.smoth=function(t){this.context.imageSmoothingEnabled?this.context.imageSmoothingEnabled=t:this.context.mozImageSmoothingEnabled?this.context.mozImageSmoothingEnabled=t:this.context.webkitImageSmoothingEnabled&&(this.context.webkitImageSmoothingEnabled=t)},t.prototype.organizeByZindex=function(){this.childs.sort(function(t,i){return t.z_index-i.z_index})},t.prototype.autoRender=function(t){var i=this;this.interval=setInterval(function(){t&&t(),i.render()},this.frameRate)},t.prototype.stopAutoRender=function(){clearInterval(this.interval)},t.prototype.render=function(){this.dataLoaded()?(this.clearScreen(),this.childs.forEach(function(t){return t.render()}),this.camera.update()):(console.info("Waiting for images to load..."),setTimeout(this.render.bind(this),100))},t}();i.default=r},function(t,i,e){"use strict";i.__esModule=!0;var o=e(0);i.Vector2D=o.default;var n=e(2);i.Color=n.Color;var s=e(10);i.Scene=s.default;var r=e(7);i.GameObject=r.default;var h=e(15);i.GameManager=h.default;var a=e(14);i.SoundComponent=a.default;var c=e(5);i.SpriteComponent=c.default;var u=e(6);i.ColliderComponent=u.default}])});